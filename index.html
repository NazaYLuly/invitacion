<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Naza & Luly</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css">
</head>

<body>   
    <div id="fondo-fijo"></div>
    <div id="background-overlay"></div>
    <header id="hero">
        <img src="icons/arrow.gif" class="arrow">
    </header>

    <section class="tarjeta centrado" data-aos="fade-up">

        <img src="icons/heart.gif" class="icon">

        <h1>¬°Nuestra Boda!</h1>
        <p>Despu√©s de muchas aventuras, risas, llantos y alg√∫n que otro amarre... ¬°llegamos a este momento! Y lo queremos
            compartir con vos. Nos alegrar√≠a que puedas ser parte de esta noche, que con tanto esfuerzo armamos junto a nuestros seres queridos, no solo para celebrar nuestra uni√≥n, sino tambi√©n para dar una 
            despedida digna y divertida antes de emprender nuestro viaje.
            <br>
            Esperamos
            contar con tu presencia ü§ç</p>
        <br>
        <p id="nyl">Naza & Luly</p>
    </section>

    <section id="countdown-card" data-aos="fade-up">
        <div class="contenido-countdown">
            <h2>Cuenta regresiva</h2>
            <div class="countdown" id="countdown"></div>
        </div>
    </section>

    <section class="tarjeta" data-aos="fade-up">

        <img src="icons/music.gif" class="icon">

        <h2 class="centrado">Nuestra playlist</h2>
            <iframe style="border-radius:12px; display: block;" src="https://open.spotify.com/embed/playlist/5a6KQtwQXCU1X85uHTAQ8c?utm_source=generator&theme=0" width="100%" height="352" f
                rameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            <p style="margin-top: -35%;">Agreg√° las canciones que no pueden faltar en la jodita, nos vemos en la pista üòé</p>
            <textarea name="canciones" id="canciones" placeholder="Dej√° tu canci√≥n ac√°"></textarea>
            <form action="" id="form_cancion" onsubmit="enviarCancion(event)">
                <button type="submit" id="enviar_cancion">‚ô©‚ô¨ Enviar ‚ô´‚ô™</button>
            </form>
    </section>

    <section class="tarjeta" data-aos="fade-up">

        <img src="icons/gift.gif" class="icon">
        <p>Lo m√°s importante es tu presencia, pero si quer√©s hacernos un regalito, pod√©s ayudarnos con nuestro viaje ‚úàÔ∏é</p>
        <br>
        <h4>Alias: 42149727.PREX</h4>

    </section>

    <section class="tarjeta" data-aos="fade-up">
        <h2 class="centrado">A tener en cuenta...</h2>
        <p>Queremos realizar una fiesta relajada en d√≥nde todos puedan disfrutar sin preocupaciones, por eso decidimos
            que esta noche los ni√±os se quedan en casa. Entendemos que esto puede condicionar la presencia de algunos
            invitados,
            pero sabemos que a√∫n as√≠ nos acompa√±an con el coraz√≥n.ü§ç</p>
        <br>
        <p id="gracias">¬°Gracias!</p>
    </section>


    <!-- Bot√≥n para abrir el formulario -->
    <button class="abrir-formulario" data-aos="fade-up">Confirmar Asistencia ‚úâ</button>

    <!-- Modal del formulario -->
    <div class="modal" id="modal-rsvp">
        <div class="modal-contenido">
            <button class="cerrar-formulario" id="cerrar-formulario" onclick="cerrarFormulario()">‚úñ</button>

            <h2>Confirmaci√≥n de Asistencia</h2>
            <p>El formulario es individual.<br>Si ven√≠s con acompa√±antes, repet√≠ el proceso por cada uno.</p>

            <form id="formulario-rsvp" onsubmit="enviarFormulario(event)">
                <label for="nombre">Apellido y Nombre</label>
                <input type="text" id="nombre" name="nombre" required>

                <label for="menu">¬øNecesit√°s un men√∫ especial?</label>
                <select id="menu" name="menu" required>
                    <option value="Ninguno">Ninguno</option>
                    <option value="Cel√≠aco">Cel√≠aco</option>
                    <option value="Vegetariano">Veggie</option>
                </select>

                <fieldset class="radio-group">
                    <legend>Confirmaci√≥n</legend>
                    <label><input type="radio" name="asistencia" value="Asistir√©" required> Asistir√©</label>
                    <label><input type="radio" name="asistencia" value="No asistir√©" required> No asistir√©</label>
                </fieldset>

                <button type="submit">Enviar</button>
                <p id="mensaje-enviado" class="mensaje-enviado" style="display: none;">üéâ ¬°Formulario enviado con √©xito!
                </p>
            </form>
        </div>
    </div>





    <section class="tarjeta" data-aos="fade-up">

        <h2 class="centrado">Detalles del evento</h2>
        <h4>‚Ä¢ 25 julio 2025 - 21hs ‚Ä¢</h4>
        <br>

        <img src="icons/location.gif" class="icon">

        <h4>‚Ä¢ Av.Calchaqui 3873, Quilmes ‚Ä¢</h4>
        <br>

        <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3277.8590655816233!2d-58.282086124516724!3d-34.759142865722666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95a32f0ead1f89d9%3A0x8920cc88a0249d59!2sClahe%20Eventos%20Quilmes%20V!5e0!3m2!1ses-419!2sar!4v1746378880717!5m2!1ses-419!2sar"
            width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        <br>
        <br>

        <h4>‚Ä¢ Dress code: Elegante, colores oscuros.</h4>
        <p>y como muchos consultaron, ac√° les dejamos:</p>
        <button class="abrir-dress"><a target="_blank" href="https://pin.it/6Zqx5uPu5">Algunas ideasüí°</a></button>
    </section>

    <section class="timeline_card" data-aos="fade-up">

        <img src="icons/clock.gif" class="icon">

        <h2 class="centrado">Timeline</h2>
        
    </section>

    <section class="tarjeta" data-aos="fade-up">

        <img src="icons/surprise.gif" class="icon">

        <h2 class="centrado"> Esto viene con sorpresa </h2>
        <iframe
            src="https://docs.google.com/forms/d/e/1FAIpQLSetL32X1UitSf-s7mgVx89tBUSSwQ6-6YrcExmtkyXUomdirQ/viewform?embedded=true"
            width="640" height="3464" frameborder="0" marginheight="0" marginwidth="0">Cargando‚Ä¶</iframe>
    </section>

    <script>
        // Cuenta regresiva al 25 de julio a las 21:00 hs
        const countdown = document.getElementById('countdown');
        const eventDate = new Date('2025-07-25T21:00:00');

        setInterval(() => {
            const now = new Date();
            const diff = eventDate - now;

            if (diff <= 0) {
                countdown.textContent = '¬°Ya empez√≥ la fiesta! üéâ';
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / 1000 / 60) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            countdown.textContent = `${days}d : ${hours}h : ${minutes}m : ${seconds}s`;
        }, 1000);
    </script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            once: true,
            duration: 800,
            easing: 'ease-in-out'
        });
    </script>
    <script>
        document.querySelector('.abrir-formulario').addEventListener('click', () => {
            document.getElementById('modal-rsvp').style.display = 'flex';
        });
    </script>
    <script>
        // Escuchar el evento de scroll
        const overlay = document.getElementById('background-overlay'); // Aseg√∫rate de que el ID coincida con tu CSS
        const opacidadInicial = 0; // Define la opacidad inicial
        const opacidadFinal = 0.6; // Define la opacidad m√°xima a alcanzar
        const distanciaParaOpacidadMaxima = 500; // Define la distancia de scroll en p√≠xeles para alcanzar la opacidad m√°xima

        window.addEventListener('scroll', () => {
            if (overlay) {
                const scrollPosition = window.scrollY;

                // Calcula la opacidad gradualmente basada en la posici√≥n del scroll
                let nuevaOpacidad = opacidadInicial + (scrollPosition / distanciaParaOpacidadMaxima) * (opacidadFinal - opacidadInicial);

                // Asegura que la opacidad no exceda la opacidad final
                nuevaOpacidad = Math.min(nuevaOpacidad, opacidadFinal);

                // Asegura que la opacidad no sea menor que la opacidad inicial (aunque aqu√≠ ya es 0)
                nuevaOpacidad = Math.max(nuevaOpacidad, opacidadInicial);

                overlay.style.backgroundColor = `rgba(0, 0, 0, ${nuevaOpacidad})`;
            } else {
                console.error("No se encontr√≥ el elemento con el ID 'background-overlay'.");
            }
        });

        // Obt√©n el formulario y el modal
        const formularioRsvp = document.getElementById('formulario-rsvp');
        const modalRsvp = document.getElementById('modal-rsvp');
        const mensajeEnviado = document.getElementById('mensaje-enviado');
        const abrirFormularioBotones = document.querySelectorAll('.abrir-formulario');
        const cerrarFormularioBoton = document.getElementById('cerrar-formulario');

        // URL de la API Google Apps Script
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxFyOYSogvz9yAC4rAryOVocXGNc1RD5E1rr09WHp6VetivioRLiHuzsVtKL3mSvyRk/exec';

        // Funci√≥n para abrir el modal
        abrirFormularioBotones.forEach(boton => {
            boton.addEventListener('click', () => {
                modalRsvp.style.display = 'flex';
            });
        });

        // Funci√≥n para cerrar el modal
        cerrarFormularioBoton.addEventListener('click', () => {
            modalRsvp.style.display = 'none';
        });

        // Funci√≥n para manejar el env√≠o del formulario
        formularioRsvp.addEventListener('submit', (e) => {
            e.preventDefault();

            // Deshabilitar el bot√≥n para evitar env√≠os duplicados
            const submitButton = formularioRsvp.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';

            // Recoger los datos del formulario
            const formData = new FormData(formularioRsvp);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            // Enviar los datos al script de Google Apps Script
            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                body: new URLSearchParams(formData),
            })
            .then(() => {
                mensajeEnviado.style.display = 'block';
                formularioRsvp.reset(); // Limpiar el formulario

                setTimeout(() => {
                    modalRsvp.style.display = 'none';
                    mensajeEnviado.style.display = 'none';
                }, 3000);
            })
            .catch(error => {
                console.error('Error!', error.message);
                alert('Error al enviar el formulario. Por favor, intenta de nuevo.');
            })
            .finally(() => {
                submitButton.disabled = false;
                submitButton.textContent = 'Confirmar asistencia';
            });
        });
    </script>
    <script>
        //form canciones
        const formCancion = document.getElementById("form_cancion");
        const textarea = document.getElementById("canciones");

        function enviarCancion(e) {
            e.preventDefault();

            const formData = new FormData();
            formData.append("canciones", textarea.value);

            fetch('https://script.google.com/macros/s/AKfycby63UhEp8oLjJDbnC99ca6dwHl6W-55kqpVBSG2SEosVQuHRHpwUng5ztUN9pjZzU3Z/exec', {
            method: 'POST',
            mode: 'no-cors',
            body: formData
            })
            .then(() => {
            textarea.value = '';
            textarea.placeholder = 'üéµ¬°Gracias por tu aporte!üé∂';
            })
            .catch(() => {
            alert('No se pudo enviar tu canci√≥n. Intent√° de nuevo.');
            });
        }
    </script>

</body>

</html>
